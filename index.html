<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Loading Entity Shares Outstanding...</title><script src="https://cdn.tailwindcss.com"></script><style>@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }.loader { border-top-color: #3498db; animation: spin 1s linear infinite; }</style></head><body class="bg-gray-100 flex items-center justify-center min-h-screen p-4"><div class="bg-white shadow-lg rounded-lg p-6 md:p-8 max-w-2xl w-full text-center"><div id="loading-indicator" class="flex flex-col items-center justify-center text-gray-700"><div class="loader ease-linear rounded-full border-4 border-t-4 border-gray-200 h-12 w-12 mb-4"></div><p>Loading financial data...</p></div><div id="content" class="hidden"><h1 id="share-entity-name" class="text-3xl md:text-4xl font-bold text-gray-800 mb-6"></h1><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div class="bg-blue-50 border border-blue-200 p-5 rounded-lg"><h2 class="text-xl md:text-2xl font-semibold text-blue-700 mb-3">Highest Shares Outstanding</h2><p class="text-gray-600 text-lg"><strong class="text-blue-800">Value:</strong> <span id="share-max-value" class="font-mono"></span></p><p class="text-gray-600 text-lg"><strong class="text-blue-800">Fiscal Year:</strong> <span id="share-max-fy" class="font-mono"></span></p></div><div class="bg-green-50 border border-green-200 p-5 rounded-lg"><h2 class="text-xl md:text-2xl font-semibold text-green-700 mb-3">Lowest Shares Outstanding</h2><p class="text-gray-600 text-lg"><strong class="text-green-800">Value:</strong> <span id="share-min-value" class="font-mono"></span></p><p class="text-gray-600 text-lg"><strong class="text-green-800">Fiscal Year:</strong> <span id="share-min-fy" class="font-mono"></span></p></div></div><p class="text-sm text-gray-500 mt-6">Data fetched from SEC EDGAR API.</p></div></div><script>document.addEventListener('DOMContentLoaded', () => { const DEFAULT_CIK = '0001596532'; const SEC_API_BASE_URL = 'https://data.sec.gov/api/xbrl/companyconcept/CIK'; const CORS_PROXY = 'https://api.allorigins.win/raw?url='; const USER_AGENT = 'AristaNetworksApp/1.0 (contact@example.com)'; const loadingIndicator = document.getElementById('loading-indicator'); const contentDiv = document.getElementById('content'); const titleElement = document.querySelector('title'); const entityNameH1 = document.getElementById('share-entity-name'); const shareMaxValue = document.getElementById('share-max-value'); const shareMaxFy = document.getElementById('share-max-fy'); const shareMinValue = document.getElementById('share-min-value'); const shareMinFy = document.getElementById('share-min-fy'); async function fetchDataAndRender(cik) { loadingIndicator.classList.remove('hidden'); contentDiv.classList.add('hidden'); try { const url = `${CORS_PROXY}${encodeURIComponent(`${SEC_API_BASE_URL}${cik}/dei/EntityCommonStockSharesOutstanding.json`)}`; const response = await fetch(url, { headers: { 'User-Agent': USER_AGENT } }); if (!response.ok) { throw new Error(`HTTP error! status: ${response.status}`); } const data = await response.json(); const entityName = data.entityName; const filteredShares = data.units.shares.filter(item => parseInt(item.fy) > 2020 && typeof item.val === 'number'); if (filteredShares.length === 0) { throw new Error('No valid shares data found for the specified criteria.'); } let max = filteredShares[0]; let min = filteredShares[0]; for (const item of filteredShares) { if (item.val > max.val) { max = item; } if (item.val < min.val) { min = item; } } titleElement.textContent = `${entityName} Shares Outstanding`; entityNameH1.textContent = entityName; shareMaxValue.textContent = max.val.toLocaleString(); shareMaxFy.textContent = max.fy; shareMinValue.textContent = min.val.toLocaleString(); shareMinFy.textContent = min.fy; } catch (error) { console.error('Error fetching or processing data:', error); titleElement.textContent = 'Error Loading Data'; entityNameH1.textContent = 'Error Loading Data'; shareMaxValue.textContent = 'N/A'; shareMaxFy.textContent = 'N/A'; shareMinValue.textContent = 'N/A'; shareMinFy.textContent = 'N/A'; alert(`Failed to load data: ${error.message}. Check console for details.`); } finally { loadingIndicator.classList.add('hidden'); contentDiv.classList.remove('hidden'); } } const urlParams = new URLSearchParams(window.location.search); const cikParam = urlParams.get('CIK'); const currentCik = cikParam && cikParam.length === 10 ? cikParam : DEFAULT_CIK; fetchDataAndRender(currentCik); });</script></body></html>